(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{4900:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(5893),a=n(809),o=n.n(a),i=n(2447),u=n(7250),l=n(8006),c=n(1312),s=n(6265);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return(0,r.jsx)("svg",d(d({viewBox:"0 0 20 20",fill:"currentColor"},e),{},{children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}))},v=n(7379),y=function(e){var t=e.bookId,n=e.bookRating,a=function(){var e=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.graphql({query:v.u8,variables:{input:{id:t,rating:n}},authMode:l.s.AMAZON_COGNITO_USER_POOLS});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,r.jsx)("div",{className:"flex justify-center",onClick:function(e){e.preventDefault()},children:(0,r.jsx)(c.Z,{classNames:"focus:outline-none z-10",onChange:function(e){return a(t,e)},count:5,value:n,activeColor:"yellow",emptyIcon:(0,r.jsx)(p,{className:"w-5 h-5"}),filledIcon:(0,r.jsx)(p,{className:"w-5 h-5 text-yellow-400"})})})}},1106:function(e,t,n){"use strict";n.d(t,{y:function(){return f},c:function(){return p}});var r=n(809),a=n.n(r),o=n(1385),i=n(2447),u=n(3011),l=n(7250),c=(n(8552),n(4780)),s="\n  query BooksByUsername(\n    $username: String\n    $updatedAt: ModelStringKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelBookFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    booksByUsername(\n      username: $username\n      updatedAt: $updatedAt\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        name\n        author\n        pages\n        status\n        read_pages\n        rating\n        image\n        review\n        username\n        updatedAt\n        createdAt\n      }\n      nextToken\n    }\n  }\n";function f(e,t){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(a().mark((function e(t,n){var r,i,c,f,d=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:null,e.next=3,u.g.currentAuthenticatedUser();case 3:return i=e.sent,e.next=6,l.b.graphql({query:s,variables:{username:i.username,sortDirection:"DESC",limit:2,nextToken:r}});case 6:if(c=e.sent,f=c.data.booksByUsername,!r){e.next=11;break}return n(f.nextToken),e.abrupt("return",f.items.map((function(e){t((function(t){return[].concat((0,o.Z)(t),[e])}))})));case 11:t(f.items),n(f.nextToken);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n){if(n===c.x.COMPLETED)return"0";if(!e)return Math.round(1.15*t);var r=e.reduce((function(e,t){return e+t}),0);return Math.round(1.15*(t-r))}},1385:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return a}})},4955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,a.useState)(e.count),n=r(t,2),o=n[0],i=n[1],u=(0,a.useState)(e.size),l=r(u,2),c=l[0],s=l[1],f=(0,a.useState)(e.char),d=r(f,2),p=d[0],v=d[1],y=(0,a.useState)(e.color),h=r(y,2),m=h[0],b=h[1],g=(0,a.useState)(e.activeColor),S=r(g,2),w=S[0],I=S[1],O=(0,a.useState)(e.isHalf),x=r(O,2),k=x[0],M=x[1],j=(0,a.useState)(e.edit),A=r(j,2),C=A[0],E=A[1],_=(0,a.useState)(e.emptyIcon),H=r(_,2),N=H[0],D=H[1],T=(0,a.useState)(e.halfIcon),P=r(T,2),$=P[0],z=P[1],U=(0,a.useState)(e.filledIcon),Z=r(U,2),L=Z[0],q=Z[1],B=(0,a.useState)(e.a11y),R=r(B,2),K=R[0],F=R[1];return[{count:o,size:c,char:p,color:m,activeColor:w,isHalf:k,edit:C,emptyIcon:N,halfIcon:$,filledIcon:L,a11y:K},function(e){i(e.count),s(e.size),v(e.char),b(e.color),I(e.activeColor),M(e.isHalf),E(e.edit),D(e.emptyIcon),z(e.halfIcon),q(e.filledIcon),F(e.a11y)}]};var a=n(7294)},1312:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(7294),o=c(a),i=c(n(5697)),u=c(n(4955)),l=c(n(7719));function c(e){return e&&e.__esModule?e:{default:e}}var s={overflow:"hidden",position:"relative"};function f(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function d(e){var t=(0,a.useState)(""),n=r(t,2),i=n[0],c=n[1],d=(0,a.useState)(0),p=r(d,2),v=p[0],y=p[1],h=(0,a.useState)([]),m=r(h,2),b=m[0],g=m[1],S=(0,a.useState)(!1),w=r(S,2),I=w[0],O=w[1],x=(0,u.default)(e),k=r(x,2),M=k[0],j=k[1],A=(0,a.useState)(0),C=r(A,2),E=C[0],_=C[1],H=(0,a.useState)(!1),N=r(H,2),D=N[0],T=N[1],P=(0,a.useState)(""),$=r(P,2),z=$[0],U=$[1];function Z(e){"undefined"===typeof e&&(e=M.isHalf?Math.floor(v):Math.round(v));for(var t=[],n=0;n<M.count;n++)t.push({active:n<=e-1});return t}function L(e){if(M.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(M.isHalf){var n=q(e);T(n),n&&(t+=1),_(t)}else t+=1;!function(e){var t=b.filter((function(e){return e.active}));e!==t.length&&g(Z(e))}(t)}}function q(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left;return(n=Math.round(Math.abs(n)))>t.width/2}function B(){M.edit&&(R(v),g(Z()))}function R(e){M.isHalf&&(T(function(e){return e%1===0}(e)),_(Math.floor(e)))}function K(e){if(M.edit){var t=Number(e.currentTarget.getAttribute("data-index")),n=void 0;if(M.isHalf){var r=q(e);T(r),r&&(t+=1),n=r?t:t+.5,_(t)}else n=t+=1;F(n)}}function F(t){t!==v&&(g(Z(t)),y(t),e.onChange(t))}return(0,a.useEffect)((function(){var t,n;!function(){var t="react-stars";U(e.classNames+" "+t)}(),t=e.value,n=e.count,y(t<0||t>n?0:t),g(Z(e.value)),j(e),c((Math.random()+"").replace(".","")),O(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),_(Math.floor(e.value)),T(e.isHalf&&e.value%1<.5)}),[]),o.default.createElement("div",{className:"react-stars-wrapper-"+i,style:{display:"flex"}},o.default.createElement("div",{tabIndex:M.a11y&&M.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(M.a11y||M.edit){var t=e.key,n=v,r=Number(t);r?Number.isInteger(r)&&r>0&&r<=M.count&&(n=r):("ArrowUp"===t||"ArrowRight"===t)&&n<M.count?(e.preventDefault(),n+=M.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&n>.5&&(e.preventDefault(),n-=M.isHalf?.5:1),R(n),F(n)}},className:z,style:s},M.isHalf&&function(){return o.default.createElement("style",{dangerouslySetInnerHTML:{__html:I?(e=M.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):f(M.activeColor,i)}});var e}(),b.map((function(e,t){return o.default.createElement(l.default,{key:t,index:t,active:e.active,config:M,onMouseOver:L,onMouseLeave:B,onClick:K,halfStarHidden:D,halfStarAt:E,isUsingIcons:I,uniqueness:i})})),o.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},v)))}d.propTypes={classNames:i.default.string,edit:i.default.bool,half:i.default.bool,value:i.default.number,count:i.default.number,char:i.default.string,size:i.default.number,color:i.default.string,activeColor:i.default.string,emptyIcon:i.default.element,halfIcon:i.default.element,filledIcon:i.default.element,a11y:i.default.bool},d.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.Z=d},7719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.index,n=e.active,a=e.config,o=e.onMouseOver,l=e.onMouseLeave,c=e.onClick,s=e.halfStarHidden,f=e.halfStarAt,d=e.isUsingIcons,p=e.uniqueness,v=a.color,y=a.activeColor,h=a.size,m=a.char,b=a.isHalf,g=a.edit,S=a.halfIcon,w=a.emptyIcon,I=a.filledIcon,O="",x=!1;b&&!s&&f===t&&(O=d?"react-stars-half":"react-stars-"+p,x=!0);var k=r({},u,{color:n?y:v,cursor:g?"pointer":"default",fontSize:h+"px"});return i.default.createElement("span",{className:O,style:k,key:t,"data-index":t,"data-forhalf":I?t:m,onMouseOver:o,onMouseMove:o,onMouseLeave:l,onClick:c},d?n?I:!n&&x?S:w:m)};var a,o=n(7294),i=(a=o)&&a.__esModule?a:{default:a};var u={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}}}]);